# SPT - Åantiye Proje Takip Sistemi

Ä°nÅŸaat ÅŸantiyelerinin yÃ¶netimi iÃ§in geliÅŸtirilmiÅŸ kapsamlÄ± proje takip sistemi.

## Ã–zellikler

### Puantaj YÃ¶netimi
- **GeliÅŸmiÅŸ Onay Sistemi**: Ã‡ok aÅŸamalÄ± onay sÃ¼reci (draft, submitted, approved, rejected)
- **Onay LoglarÄ±**: TÃ¼m onay iÅŸlemlerinin detaylÄ± kayÄ±tlarÄ±
- **Ä°K MÃ¼dahale Sistemi**: Ä°K'nÄ±n onaylanmÄ±ÅŸ puantajlara mÃ¼dahale edebilmesi
- **Ä°zin Entegrasyonu**: Ä°zin taleplerinin otomatik puantaja yansÄ±masÄ±
- **Fazla Mesai Takibi**: Hafta iÃ§i (%50), hafta sonu (%100), resmi tatil (%200)
- **HaftalÄ±k Hesaplamalar**: Otomatik haftalÄ±k Ã¶zet ve fazla mesai hesaplamalarÄ±
- **Toplu GiriÅŸ**: AylÄ±k veya haftalÄ±k toplu puantaj giriÅŸi
- **Proje Detay Takibi**: YapÄ±, kat, daire ve iÅŸ kalemi bazÄ±nda detaylÄ± kayÄ±t

### Ã‡alÄ±ÅŸan YÃ¶netimi
- Ã‡alÄ±ÅŸan bilgileri ve departman atamalarÄ±
- Vardiya yÃ¶netimi
- MaaÅŸ geÃ§miÅŸi takibi
- Proje atamalarÄ±
- TaÅŸeron Ã§alÄ±ÅŸan desteÄŸi

### Ä°zin YÃ¶netimi
- YÄ±llÄ±k izin, hastalÄ±k izni, Ã¼cretsiz izin vb. tÃ¼m izin tipleri
- **Resmi Tatil YÃ¶netimi**: Arefe (yarÄ±m gÃ¼n) desteÄŸi ile
- **AkÄ±llÄ± Ä°zin Hesaplama**: Proje bazlÄ± hafta tatili + resmi tatil entegrasyonu
- Otomatik izin bakiyesi hesaplama
- Ä°zin onay sÃ¼reci
- Ä°zin-puantaj senkronizasyonu
- DetaylÄ± izin bakiyesi loglarÄ±

### Proje YÃ¶netimi
- Proje yapÄ± ve kat tanÄ±mlamalarÄ±
- **Ã–zelleÅŸtirilebilir Hafta Tatili**: Proje bazÄ±nda hafta sonu gÃ¼nleri
- Ä°ÅŸ kalemleri ve metraj takibi
- Proje-departman iliÅŸkileri
- TaÅŸeron firma yÃ¶netimi
- Proje dokÃ¼mantasyonu

### SatÄ±n Alma ModÃ¼lÃ¼
- SatÄ±n alma talepleri
- TedarikÃ§i yÃ¶netimi
- Teklif karÅŸÄ±laÅŸtÄ±rma
- SipariÅŸ takibi
- Teslimat yÃ¶netimi

### KeÅŸif & Metraj ModÃ¼lÃ¼ ğŸ†•
- **Proje YapÄ±sÄ± Entegrasyonu**: YapÄ±/Kat/Birim bazlÄ± metraj kayÄ±tlarÄ±
- **Ä°ÅŸ Kalemi Takibi**: Ä°ÅŸ kalemleri ile iliÅŸkilendirilmiÅŸ metraj hesaplama
- **Planlanan ve Tamamlanan**: Metraj planlama ve gerÃ§ekleÅŸme takibi
- **HakediÅŸ Entegrasyonu**: Metraj kayÄ±tlarÄ±ndan hakediÅŸ oluÅŸturma
- **Ä°lerleme Ä°zleme**: Tamamlanma yÃ¼zdesi ve kalan miktar hesaplama
- **Ã–lÃ§Ã¼m YÃ¶ntemleri**: FarklÄ± Ã¶lÃ§Ã¼m yÃ¶ntemleri desteÄŸi
- **Onay SÃ¼reci**: DoÄŸrulama ve onaylama akÄ±ÅŸÄ±
- **Proje Show SayfasÄ±**: Metraj kayÄ±tlarÄ± tab gÃ¶rÃ¼nÃ¼mÃ¼

### HakediÅŸ ModÃ¼lÃ¼
- **Metraj BazlÄ± HakediÅŸ**: KeÅŸif/Metraj kayÄ±tlarÄ±ndan otomatik veri Ã§ekme
- **AkÄ±llÄ± Form**: Proje/yapÄ±/kat/birim seÃ§imine gÃ¶re ilgili metraj bulma
- **Otomatik Limit KontrolÃ¼**: Kalan hakediÅŸ yapÄ±labilir miktar hesaplama
- **Metraj AÅŸÄ±mÄ± Takibi**: Planlanan metrajÄ± aÅŸan hakediÅŸ kayÄ±tlarÄ±nÄ±n otomatik tespiti
- **AÅŸÄ±m Raporu**: Metraj aÅŸÄ±mÄ± kayÄ±tlarÄ±nÄ±n filtrelenebilir raporu
- **AÅŸÄ±m UyarÄ±larÄ±**: KullanÄ±cÄ±ya aÅŸÄ±m durumunda gÃ¶rsel uyarÄ±
- Ä°ÅŸ kalemi bazlÄ± metraj takibi
- Onay sÃ¼reci (completed â†’ approved â†’ paid)
- Ã–deme durumu takibi
- Proje yapÄ±/kat/birim detaylÄ± kayÄ±t
- **Metraj Ä°liÅŸkisi**: Her hakediÅŸ metraj kaydÄ±na baÄŸlÄ±

### Finansal YÃ¶netim ModÃ¼lÃ¼ ğŸ†•
- **Event-Driven Otomatik KayÄ±t**: Puantaj, HakediÅŸ, SatÄ±nalma modÃ¼llerinden
- **Gelir/Gider Kategorileri**: HiyerarÅŸik kategori yapÄ±sÄ±
- **Ã–deme Takibi**: Beklemede, KÄ±smi, Ã–dendi durumlarÄ±
- **Kar/Zarar RaporlarÄ±**: Proje, yÄ±l, ay bazlÄ± analiz
- **Dashboard**: Ã–zet finansal widget'lar
- **BÃ¼tÃ§e vs GerÃ§ekleÅŸen**: Varyans analizi

### SÃ¶zleÅŸme YÃ¶netimi ModÃ¼lÃ¼ ğŸ†•
- **TaÅŸeron/TedarikÃ§i SÃ¶zleÅŸmeleri**: Merkezi sÃ¶zleÅŸme yÃ¶netim sistemi
- **Otomatik NumaralandÄ±rma**: Duplicate-safe sÃ¶zleÅŸme numarasÄ± oluÅŸturma (PRJ-CODE-TS-YYYY-0001)
- **Teminat YÃ¶netimi**: Banka Mektubu, Nakit, Ã‡ek, TeminatsÄ±z seÃ§enekleri
- **Durum YÃ¶netimi**: Draft â†’ Active â†’ Completed/Terminated/Expired lifecycle
- **HakediÅŸ Entegrasyonu**: SÃ¶zleÅŸmelere baÄŸlÄ± hakediÅŸ kayÄ±tlarÄ±
- **SatÄ±nalma Entegrasyonu**: Opsiyonel sÃ¶zleÅŸme baÄŸlantÄ±sÄ±
- **Proje Entegrasyonu**: Proje detay sayfasÄ±nda sÃ¶zleÅŸmeler tabÄ±
- **Dashboard**: Ä°statistikler, sÃ¼resi dolacak sÃ¶zleÅŸmeler, son sÃ¶zleÅŸmeler
- **Filtreleme**: Proje, taÅŸeron, durum, tarih bazlÄ± arama
- **SÃ¼re Takibi**: SÃ¶zleÅŸme sÃ¼resi dolacak olanlar iÃ§in otomatik uyarÄ±

### SatÄ±ÅŸ ve Tapu YÃ¶netimi ModÃ¼lÃ¼ ğŸ†•
- **MÃ¼ÅŸteri CRM**: Bireysel ve kurumsal mÃ¼ÅŸteri yÃ¶netimi
- **SatÄ±ÅŸ YÃ¶netimi**: Rezervasyon, kesin satÄ±ÅŸ, Ã¶n satÄ±ÅŸ sÃ¼reÃ§leri
- **Otomatik Ã–deme PlanÄ±**: PeÅŸinat + taksit planlamasÄ±
- **Ã–deme Takibi**: DetaylÄ± taksit ve Ã¶deme durumu izleme
- **Cascade Dropdown**: Proje â†’ Blok â†’ Kat â†’ Birim hiyerarÅŸik seÃ§imi
- **SatÄ±ÅŸ Durumu GÃ¶rselleÅŸtirme**:
  - Proje bazlÄ± satÄ±ÅŸ istatistikleri ve dashboard
  - Blok seÃ§imi ve kat bazlÄ± progress bar'lar
  - Renk kodlu birim grid (MÃ¼sait, SatÄ±ldÄ±, Rezerve, GecikmiÅŸ)
  - Ä°nteraktif birim kartlarÄ± ve detay modal'larÄ±
  - MÃ¼ÅŸteri ve fiyat bilgileri ile hover tooltips
- **Basit Tapu Takibi**:
  - Tapu durumu yÃ¶netimi (Devredilmedi, Ä°ÅŸlemde, Devredildi, Ertelendi)
  - Tapu belgesi yÃ¼kleme sistemi (PDF, JPG, PNG - Max 10MB)
  - Tapu bilgileri (Tip, Numara, Devir Tarihi, Notlar)
  - Modal-based gÃ¼ncelleme ve belge yÃ¶netimi
- **Finansal Entegrasyon**: SatÄ±ÅŸ Ã¶demelerinden otomatik gelir kaydÄ± (Event-driven ready)

### YapÄ± Denetim Sistemi ModÃ¼lÃ¼ ğŸ†•
- **Denetim KuruluÅŸlarÄ± YÃ¶netimi**: LisanslÄ± yapÄ± denetim firmalarÄ±nÄ±n takibi
- **Denetim KayÄ±tlarÄ±**: Periyodik, Ã¶zel ve final denetim kayÄ±tlarÄ±
- **Otomatik Denetim NumaralandÄ±rma**: Duplicate-safe numara oluÅŸturma (DEN-PRJ-YYYY-001)
- **Uygunsuzluk Takibi**: Minor, Major, Critical seviyelerinde uygunsuzluk kayÄ±tlarÄ±
- **DÃ¼zeltici Faaliyetler**: Uygunsuzluklara karÅŸÄ± aksiyonlarÄ±n takibi ve durumu
- **Denetim RaporlarÄ±**: PDF rapor yÃ¼kleme ve ek dosya yÃ¶netimi
- **Denetim TÃ¼rleri**: Periyodik (3 aylÄ±k), Ã–zel, Final denetimleri
- **Durum YÃ¶netimi**: Scheduled â†’ Completed â†’ Pending Action â†’ Closed lifecycle
- **Dashboard**: Ä°statistikler, yaklaÅŸan/gecikmiÅŸ denetimler, uygunsuzluk sayÄ±larÄ±
- **Filtreleme**: Proje, denetim kuruluÅŸu, tÃ¼r, durum, tarih bazlÄ± arama
- **Ruhsat YÃ¶netimi**:
  - YapÄ± RuhsatÄ± (Building Permit) takibi
  - Ä°skan Ä°zni (Occupancy Permit) yÃ¶netimi
  - YapÄ± Kullanma Ä°zni (Usage Permit) kayÄ±tlarÄ±
  - Otomatik ruhsat numarasÄ± oluÅŸturma (YR-PRJ-YYYY-001)
  - Ä°mar durumu ve ihraÃ§ makamÄ± bilgileri

### Stok YÃ¶netimi ModÃ¼lÃ¼ ğŸ†•
- **Depo YÃ¶netimi**: Proje bazlÄ± depo tanÄ±mlama ve sorumlu atama
- **Stok Hareketleri**: GiriÅŸ, Ã§Ä±kÄ±ÅŸ, transfer ve dÃ¼zeltme kayÄ±tlarÄ±
- **Transaction-Safe Stok**: DB transaction ile gÃ¼venli stok gÃ¼ncellemeleri
- **Otomatik Stok Hesaplama**: Mevcut stok takibi (current_stock)
- **Minimum Stok Seviyesi**: Kritik stok uyarÄ±larÄ± iÃ§in altyapÄ±
- **Polymorphic Ä°liÅŸki**: SatÄ±nalma, Ã¼retim gibi modÃ¼llerle entegrasyon hazÄ±r
- **4 Hareket Tipi**: GiriÅŸ (in), Ã‡Ä±kÄ±ÅŸ (out), Transfer (transfer), DÃ¼zeltme (adjustment)
- **Yetersiz Stok KontrolÃ¼**: Ã‡Ä±kÄ±ÅŸ iÅŸlemlerinde otomatik kontrol
- **Rollback MekanizmasÄ±**: Hareket silme/gÃ¼ncelleme iÃ§in otomatik stok geri alma
- **Filtreleme**: Depo, malzeme, hareket tipi, tarih aralÄ±ÄŸÄ± bazlÄ± arama
- **Modern UI**: Cyan-emerald gradient tema, hakediÅŸ modÃ¼lÃ¼ tasarÄ±mÄ±yla tutarlÄ±
- **SatÄ±nalma Entegrasyonu**: "SatÄ±nalma & Stok" menÃ¼ grubu altÄ±nda organize
- **6 Vue SayfasÄ±**: Warehouses (Index, Create, Edit) + StockMovements (Index, Create, Edit)
- **GerÃ§ekÃ§i Seeder**: Her proje iÃ§in 2-3 depo + Ã§oklu stok hareketleri

### Ä°ÅŸ SaÄŸlÄ±ÄŸÄ± ve GÃ¼venliÄŸi (Ä°SG) ModÃ¼lÃ¼ ğŸ†•
- **Ä°ÅŸ KazasÄ± YÃ¶netimi**: Ramak kala, yaralanma, Ã¶lÃ¼mlÃ¼ kaza kayÄ±tlarÄ±
- **KÃ¶k Sebep Analizi**: RCA (Root Cause Analysis) ve dÃ¼zeltici faaliyetler
- **Ä°SG EÄŸitimleri**: EÄŸitim planlama, katÄ±lÄ±mcÄ± takibi, sertifika yÃ¶netimi
- **GÃ¼venlik Denetimleri**: Kontrol listeleri, skor sistemi, periyodik denetimler
- **Risk DeÄŸerlendirmesi**: RAMS (Risk Assessment Method Statement) formlarÄ±
- **KKD YÃ¶netimi**: KiÅŸisel koruyucu donanÄ±m zimmet ve takibi
- **5 Alt ModÃ¼l**: Safety Incidents, Trainings, Inspections, Risk Assessments, PPE Assignments
- **Ã–nem Derecesi Takibi**: DÃ¼ÅŸÃ¼k, Orta, YÃ¼ksek, Kritik seviyeler
- **Durum YÃ¶netimi**: RaporlandÄ± â†’ Ä°nceleniyor â†’ Ã‡Ã¶zÃ¼ldÃ¼ â†’ KapatÄ±ldÄ± lifecycle
- **Modern UI**: KÄ±rmÄ±zÄ±-turuncu gradient tema, full-width tasarÄ±m
- **7 Vue SayfasÄ±**: Create (5), Edit (1), Show (1) - tÃ¼mÃ¼ modern tasarÄ±m
- **Filtreleme**: Proje, tÃ¼r, Ã¶nem derecesi, durum bazlÄ± arama
- **GerÃ§ekÃ§i Seeder**: 2 kaza, 2 eÄŸitim, 1 denetim, 1 risk deÄŸerlendirmesi, 2 KKD kaydÄ±

### Rol & Yetki YÃ¶netimi ModÃ¼lÃ¼ ğŸ†•
- **Proje BazlÄ± Rol Sistemi**: KullanÄ±cÄ±larÄ±n projelere Ã¶zel rol ve yetki atamasÄ±
- **7 Rol Tipi**: Proje MÃ¼dÃ¼rÃ¼, Åantiye Åefi, MÃ¼hendis, Usta BaÅŸÄ±, DenetÃ§i, Ä°SG UzmanÄ±, GÃ¶rÃ¼ntÃ¼leyici
- **Activity Log Sistemi**: TÃ¼m sistem aktivitelerinin detaylÄ± kaydÄ±
- **8 Aktivite Tipi**: Created, Updated, Deleted, Viewed, Login, Logout, Access Denied, Custom
- **4 Ã–nem Seviyesi**: Info, Warning, Error, Critical
- **Route Permission Management**: TÃ¼m route'lar iÃ§in yetki yÃ¶netimi
- **Otomatik Route Sync**: Laravel route list'ten otomatik senkronizasyon
- **AnlamlÄ± TÃ¼rkÃ§e Ä°simler**: Route'lar iÃ§in otomatik TÃ¼rkÃ§e isim oluÅŸturma
- **11 FarklÄ± Rol**: Admin, HR, Proje MÃ¼dÃ¼rÃ¼, Åantiye Åefi, MÃ¼hendis, Usta BaÅŸÄ±, DenetÃ§i, Ä°SG, GÃ¶rÃ¼ntÃ¼leyici, Muhasebe, Finans
- **Toplu Yetki YÃ¶netimi**: Birden fazla route iÃ§in aynÄ± anda yetki atama
- **Filtreleme**: ModÃ¼l, durum, proje eriÅŸimi bazlÄ± arama
- **CheckProjectAccess Middleware**: Otomatik proje eriÅŸim kontrolÃ¼
- **Polymorphic Activity Log**: TÃ¼m modeller iÃ§in activity tracking
- **Modern UI**: Purple-indigo-blue (Proje Rolleri), Slate-gray (Activity Logs), Orange-red (Route Yetkileri) gradient temalar
- **3 Database Migration**: user_project_roles, activity_logs, route_permissions
- **3 Model**: UserProjectRole, ActivityLog, RoutePermission (iliÅŸkiler, scope'lar, helper metodlarÄ±)
- **3 Controller**: Full CRUD, sync, bulk update, filtreleme
- **6 Vue SayfasÄ±**: UserProjectRoles (Index, Create, Edit), ActivityLogs (Index, Show), RoutePermissions (Index)
- **Sidebar Entegrasyonu**: "Rol & Yetki YÃ¶netimi" menÃ¼ grubu (shield-check ikonu)
- **Routes**: `/user-project-roles/*`, `/activity-logs/*`, `/route-permissions/*`

### Ekipman & Makine YÃ¶netimi ModÃ¼lÃ¼ ğŸ†•
- **Ekipman Envanteri**: 17 farklÄ± ekipman tipi (EkskavatÃ¶r, Buldozer, VinÃ§, Loader, KompaktÃ¶r, JeneratÃ¶r vb.)
- **Sahiplik YÃ¶netimi**: MÃ¼lkiyetli, KiralÄ±k, Leasing olmak Ã¼zere 3 sahiplik tÃ¼rÃ¼
- **KullanÄ±m KayÄ±tlarÄ±**: OperatÃ¶r, proje, tarih, sÃ¼re bazlÄ± detaylÄ± kullanÄ±m takibi
- **SayaÃ§ YÃ¶netimi**: Saat, kilometre, Ã§evrim cinsinden sayaÃ§ okuma ve toplam hesaplama
- **YakÄ±t Takibi**: YakÄ±t tÃ¼ketimi ve maliyet kayÄ±tlarÄ±
- **BakÄ±m Sistemi**: Rutin, Ã–nleyici, DÃ¼zeltici, ArÄ±za olmak Ã¼zere 4 bakÄ±m tÃ¼rÃ¼
- **Periyodik BakÄ±m**: BakÄ±m hatÄ±rlatÄ±cÄ± ve son bakÄ±m tarihi takibi
- **Maliyet Analizi**: Ä°ÅŸletme, bakÄ±m, yakÄ±t maliyetlerinin toplam hesaplamasÄ±
- **Finansal Entegrasyon**: Kira ve bakÄ±m giderlerinin otomatik finansal kayÄ±t oluÅŸturmasÄ±
- **Ekipman DurumlarÄ±**: MÃ¼sait, KullanÄ±mda, BakÄ±mda, ArÄ±zalÄ± durum yÃ¶netimi
- **Otomatik Kodlama**: EKP-001 (ekipman), BKM-001 (bakÄ±m) otomatik kod oluÅŸturma
- **Modern UI**: Yellow-amber-orange gradient tema, full-width tasarÄ±m
- **NULL-Safe Pagination**: Template-based pagination rendering
- **3 Database Migration**: equipments, equipment_usages, equipment_maintenance
- **3 Model**: Equipment, EquipmentUsage, EquipmentMaintenance (relationships, scopes, accessors)
- **3 Controller**: Full CRUD, filtering, statistics, financial integration
- **9 Vue SayfasÄ±**: Equipments (Index, Create, Edit, Show), EquipmentUsages (Index, Create, Edit), EquipmentMaintenance (Index, Create, Edit)
- **Sidebar Entegrasyonu**: "Ekipman YÃ¶netimi" menÃ¼ grubu (truck ikonu)
- **EquipmentManagementSeeder**: 5 ekipman, 4 kullanÄ±m, 5 bakÄ±m kaydÄ±
- **Routes**: `/equipments/*`, `/equipment-usages/*`, `/equipment-maintenance/*`

## Teknoloji Stack

- **Backend**: Laravel 11
- **Frontend**: Vue.js 3 + Inertia.js
- **VeritabanÄ±**: MariaDB / MySQL
- **Authentication**: Laravel Sanctum
- **Yetkilendirme**: Spatie Laravel Permission

## Kurulum

### Gereksinimler
- PHP 8.2+
- Composer
- Node.js 18+
- MariaDB 10.6+ veya MySQL 8.0+

### AdÄ±mlar

1. BaÄŸÄ±mlÄ±lÄ±klarÄ± yÃ¼kleyin:
```bash
composer install
npm install
```

2. Environment dosyasÄ±nÄ± yapÄ±landÄ±rÄ±n:
```bash
cp .env.example .env
php artisan key:generate
```

3. VeritabanÄ±nÄ± oluÅŸturun ve migration'larÄ± Ã§alÄ±ÅŸtÄ±rÄ±n:
```bash
php artisan migrate --seed
```

4. Frontend asset'lerini derleyin:
```bash
npm run build
```

5. UygulamayÄ± Ã§alÄ±ÅŸtÄ±rÄ±n:
```bash
php artisan serve
```

## VeritabanÄ± YapÄ±sÄ±

### Ana Tablolar
- `timesheets`: Puantaj kayÄ±tlarÄ± (geliÅŸmiÅŸ onay sistemi ile)
- `employees`: Ã‡alÄ±ÅŸan bilgileri
- `projects`: Proje tanÄ±mlarÄ±
- `leave_requests`: Ä°zin talepleri
- `timesheet_approval_logs`: Puantaj onay geÃ§miÅŸi
- `shifts`: Vardiya tanÄ±mlarÄ±
- `departments`: Departman tanÄ±mlarÄ±

### Yedek Tablolar
- `timesheets_old_backup`: Eski puantaj sistemi (referans iÃ§in)
- `timesheets_v3_backup`: V3 puantaj sistemi (referans iÃ§in)

## GeliÅŸtirme NotlarÄ±

### Son GÃ¼ncellemeler

#### 31 Ekim 2025 - Rol & Yetki YÃ¶netimi ModÃ¼lÃ¼ TamamlandÄ± ğŸ‰
- **Proje BazlÄ± Rol Sistemi**: KullanÄ±cÄ±larÄ±n projelere Ã¶zel rol ve yetki atamasÄ±
  - UserProjectRole model ve migration
  - 7 farklÄ± rol tipi (project_manager, site_manager, engineer, foreman, viewer, inspector, safety_officer)
  - Tarih aralÄ±ÄŸÄ± ile geÃ§ici atama desteÄŸi (start_date, end_date)
  - Rol bazlÄ± permission sistemi (JSON)
  - Aktif/Pasif durum kontrolÃ¼ ve otomatik geÃ§erlilik kontrolÃ¼
- **Activity Log Sistemi**: KapsamlÄ± sistem aktivite izleme
  - 8 farklÄ± aktivite tipi (created, updated, deleted, viewed, logged_in, logged_out, access_denied, custom)
  - 4 Ã¶nem seviyesi (info, warning, error, critical)
  - Polymorphic iliÅŸki desteÄŸi (subject_type, subject_id)
  - IP adresi, user agent, route bilgisi otomatik kaydÄ±
  - Proje bazlÄ± filtreleme ve kullanÄ±cÄ± bazlÄ± activity history
  - Static helper metodlarÄ± (logCreated, logUpdated, logDeleted vb.)
- **Route Permission Management**: GranÃ¼ler yetki kontrolÃ¼
  - RoutePermission model ve migration
  - Otomatik route sync (Laravel route list'ten)
  - AnlamlÄ± TÃ¼rkÃ§e isim oluÅŸturma sistemi (generateDisplayName)
  - Action type belirleme (view, create, edit, delete, vb.)
  - 11 farklÄ± rol desteÄŸi (admin, hr, project_manager, site_manager, engineer, foreman, inspector, safety_officer, viewer, accounting, finance)
  - ModÃ¼l bazlÄ± filtreleme ve toplu yetki gÃ¼ncelleme
  - Public route desteÄŸi ve proje eriÅŸimi kontrolÃ¼
- **Middleware GeliÅŸtirmeleri**:
  - CheckProjectAccess: Otomatik proje eriÅŸim kontrolÃ¼
  - Dinamik project_id tespiti (route params, form data)
  - EriÅŸim engelleme durumunda otomatik activity log kaydÄ±
- **User Model GÃ¼ncellemeleri**:
  - projectRoles() iliÅŸkisi
  - activityLogs() iliÅŸkisi
  - canAccessProject() - Yeni ve eski sistem birlikte Ã§alÄ±ÅŸÄ±yor
  - getProjectRole() - KullanÄ±cÄ±nÄ±n projedeki rolÃ¼nÃ¼ getir
  - getAccessibleProjects() - EriÅŸilebilir projeleri listele
- **Modern Full-Width UI TasarÄ±mÄ±**:
  - UserProjectRoles: Purple-indigo-blue gradient header
  - ActivityLogs: Slate-gray gradient header
  - RoutePermissions: Orange-red gradient header
  - HakediÅŸ modÃ¼lÃ¼ne benzer modern card'lar ve filtreler
  - Rol ve Ã¶nem seviyesi iÃ§in renkli badge'ler
  - NULL-safe pagination (dynamic component kullanÄ±mÄ±)
  - Modal-based dÃ¼zenleme formu (route permissions)
- **Controller'lar**:
  - UserProjectRoleController: Full CRUD + activate/deactivate + byUser/byProject metodlarÄ±
  - ActivityLogController: index, show, userActivity, projectActivity, export metodlarÄ±
  - RoutePermissionController: CRUD + syncFromRoutes + bulkUpdate + batchAssignByModule
- **Routes ve Sidebar**:
  - user-project-roles.* route grubu (admin, hr eriÅŸimi)
  - activity-logs.* route grubu (admin, hr eriÅŸimi)
  - route-permissions.* route grubu (sadece admin)
  - "Rol & Yetki YÃ¶netimi" sidebar bÃ¶lÃ¼mÃ¼ eklendi
  - Route Yetkileri menÃ¼sÃ¼ (admin only)
- **6 Vue SayfasÄ±**: Modern full-width gradient header'lÄ±
  - UserProjectRoles (Index, Create, Edit)
  - ActivityLogs (Index, Show)
  - RoutePermissions (Index)
- **Teknik Ä°yileÅŸtirmeler**:
  - Modal component path dÃ¼zeltmesi (@/Components/UI/Modal.vue)
  - UserProjectRoleController prop isim tutarlÄ±lÄ±ÄŸÄ±
  - Migration ÅŸema iyileÅŸtirmesi (nullable fields)
  - Pagination Link null href hatasÄ± dÃ¼zeltildi (tÃ¼m sayfalarda)
  - TECHNICAL_DEBT.md dosyasÄ± oluÅŸturuldu (ProgressPayments form hatasÄ± dokÃ¼mante edildi)

#### 30 Ekim 2025 - Ekipman & Makine YÃ¶netimi ModÃ¼lÃ¼ TamamlandÄ± ğŸ‰
- **Ekipman Envanteri Sistemi**: 17 farklÄ± ekipman tipi ile kapsamlÄ± envanter yÃ¶netimi
- **3 Sahiplik TÃ¼rÃ¼**: MÃ¼lkiyetli, KiralÄ±k, Leasing seÃ§enekleri
- **KullanÄ±m KayÄ±tlarÄ±**:
  - OperatÃ¶r, proje, tarih, sÃ¼re bazlÄ± detaylÄ± kayÄ±t
  - SayaÃ§ okuma takibi (saat, km, Ã§evrim)
  - YakÄ±t tÃ¼ketimi ve maliyet hesaplamasÄ±
  - Durum bazlÄ± ekipman kullanÄ±labilirlik kontrolÃ¼
- **BakÄ±m ve OnarÄ±m Sistemi**:
  - 4 BakÄ±m TÃ¼rÃ¼: Rutin, Ã–nleyici, DÃ¼zeltici, ArÄ±za
  - Maliyet ayrÄ±mÄ± (iÅŸÃ§ilik, parÃ§a, dÄ±ÅŸ servis)
  - Periyodik bakÄ±m hatÄ±rlatÄ±cÄ± (next_maintenance_date)
  - BakÄ±m geÃ§miÅŸi ve toplam bakÄ±m maliyeti
- **Finansal Entegrasyon**:
  - Kira giderleri otomatik financial_transactions kaydÄ±
  - BakÄ±m maliyetleri otomatik kayÄ±t
  - Proje bazlÄ± maliyet izleme
- **Ekipman DurumlarÄ±**: MÃ¼sait â†’ KullanÄ±mda â†’ BakÄ±mda â†’ ArÄ±zalÄ± lifecycle
- **Otomatik Kod Sistemi**:
  - Ekipman: EKP-001, EKP-002...
  - BakÄ±m: BKM-001, BKM-002...
- **Modern Full-Width TasarÄ±m**:
  - Yellow-amber-orange gradient header (ekipman temasÄ±)
  - NULL-safe pagination (template-based)
  - Responsive grid layout
  - Ä°statistikler widget'larÄ±
- **3 Database Migration**: equipments, equipment_usages, equipment_maintenance
- **3 Model**: Equipment, EquipmentUsage, EquipmentMaintenance (NULL-safe accessors)
- **3 Controller**: CRUD iÅŸlemleri, filtreleme, statistics, financial integration
- **9 Vue SayfasÄ±**: Modern tasarÄ±m ile Index, Create, Edit, Show sayfalarÄ±
- **Sidebar Entegrasyonu**: "Ekipman YÃ¶netimi" menÃ¼ grubu (truck ikonu)
- **EquipmentManagementSeeder**: 5 ekipman + 4 kullanÄ±m + 5 bakÄ±m kaydÄ±
- **Routes**: `/equipments/*`, `/equipment-usages/*`, `/equipment-maintenance/*`
- **Bug Fix**: Pagination null URL hatasÄ± tÃ¼m modÃ¼llerde dÃ¼zeltildi (template-based rendering)

#### 30 Ekim 2025 - Ä°ÅŸ SaÄŸlÄ±ÄŸÄ± ve GÃ¼venliÄŸi (Ä°SG) ModÃ¼lÃ¼ TamamlandÄ± ğŸ‰
- **5 Alt ModÃ¼l Sistemi**: Ä°ÅŸ KazalarÄ±, EÄŸitimler, Denetimler, Risk DeÄŸerlendirmeleri, KKD AtamalarÄ±
- **Ä°ÅŸ KazasÄ± YÃ¶netimi**:
  - 6 Olay TÃ¼rÃ¼: KÃ¼Ã§Ã¼k/BÃ¼yÃ¼k Yaralanma, Ramak Kala, Mal HasarÄ±, Ã‡evresel, Ã–lÃ¼mlÃ¼
  - 4 Ã–nem Derecesi: DÃ¼ÅŸÃ¼k, Orta, YÃ¼ksek, Kritik
  - KÃ¶k sebep analizi (RCA) ve dÃ¼zeltici faaliyet takibi
  - Ä°ÅŸ kaybÄ± gÃ¼nÃ¼, tÄ±bbi tedavi, iÅŸ durdurma flag'leri
  - Yetkili makamlara bildirim durumu
- **Ä°SG EÄŸitim Sistemi**:
  - 7 EÄŸitim TÃ¼rÃ¼: Temel Ä°SG, YangÄ±n, Ä°lk YardÄ±m, YÃ¼ksekte Ã‡alÄ±ÅŸma, KapalÄ± Alan, Elektrik, DiÄŸer
  - EÄŸitmen ve ÅŸirket bilgileri
  - EÄŸitim sÃ¼resi ve lokasyon takibi
- **GÃ¼venlik Denetim Sistemi**:
  - 5 Denetim TÃ¼rÃ¼: GÃ¼nlÃ¼k, HaftalÄ±k, AylÄ±k, ÃœÃ§ AylÄ±k, Ã–zel
  - Kontrol edilen/baÅŸarÄ±lÄ±/baÅŸarÄ±sÄ±z madde sayacÄ±
  - Skor sistemi (0-100)
  - 4 Genel Durum: BaÅŸarÄ±lÄ±, Notlarla GeÃ§ti, Aksiyon Gerekli, BaÅŸarÄ±sÄ±z
- **Risk DeÄŸerlendirmesi (RAMS)**:
  - Ä°ÅŸ aktivitesi bazlÄ± risk analizi
  - 4 Risk Seviyesi: DÃ¼ÅŸÃ¼k, Orta, YÃ¼ksek, Kritik
  - Kontrol tedbirleri ve geÃ§erlilik tarihleri
- **KKD YÃ¶netimi**:
  - 9 KKD TÃ¼rÃ¼: Baret, Ä°ÅŸ AyakkabÄ±sÄ±, Eldiven, GÃ¶zlÃ¼k, Yelek, Emniyet Kemeri, Maske, Kulak Koruyucu, DiÄŸer
  - Marka, model, beden, miktar bilgileri
  - Birim fiyat ve son kullanma tarihi takibi
- **Modern Full-Width TasarÄ±m**:
  - KÄ±rmÄ±zÄ±-turuncu gradient header (Ä°SG temasÄ±)
  - Breadcrumb navigation
  - Responsive grid layout (lg:grid-cols-2)
  - Gradient butonlar ve modern input stilleri
  - Durum bazlÄ± renkli badge'ler
- **5 Database Migration**: safety_incidents, safety_trainings, safety_inspections, risk_assessments, ppe_assignments
- **5 Model**: Ä°liÅŸkiler, scope'lar, accessor metodlarÄ±, casts
- **5 Controller**: CRUD iÅŸlemleri, filtreleme, transaction-safe operations
- **7 Vue SayfasÄ±**: Create (5), Edit (1), Show (1) - tÃ¼mÃ¼ modern tasarÄ±m
- **Sidebar Entegrasyonu**: "Ä°ÅŸ SaÄŸlÄ±ÄŸÄ± ve GÃ¼venliÄŸi" menÃ¼ grubu (shield-exclamation ikonu)
- **SafetyManagementSeeder**: 2 kaza, 2 eÄŸitim, 1 denetim, 1 risk deÄŸerlendirmesi, 2 KKD kaydÄ±
- **Routes**: `/safety-incidents/*`, `/safety-trainings/*`, `/safety-inspections/*`, `/risk-assessments/*`, `/ppe-assignments/*`

#### 29 Ekim 2025 - Stok YÃ¶netimi ModÃ¼lÃ¼ TamamlandÄ± ğŸ‰
- **Depo YÃ¶netimi Sistemi**: Proje bazlÄ± depo tanÄ±mlama
- **Stok Hareketi KayÄ±tlarÄ±**: GiriÅŸ, Ã§Ä±kÄ±ÅŸ, transfer, dÃ¼zeltme iÅŸlemleri
- **Transaction-Safe Ä°ÅŸlemler**: DB::transaction() ile gÃ¼venli stok gÃ¼ncellemeleri
- **Otomatik Stok Takibi**:
  - materials tablosuna current_stock ve min_stock_level kolonlarÄ±
  - Her stok hareketi ile otomatik gÃ¼ncelleme
  - Yetersiz stok kontrolÃ¼ (Ã§Ä±kÄ±ÅŸ iÅŸlemlerinde)
- **Rollback MekanizmasÄ±**:
  - Hareket silme: Stok otomatik geri alÄ±nÄ±r
  - Hareket gÃ¼ncelleme: Eski hareket iptal, yeni hareket uygulanÄ±r
- **Polymorphic Ä°liÅŸki**: reference_type/reference_id ile modÃ¼l entegrasyonu
- **3 Migration**: warehouses, stock_movements, materials gÃ¼ncelleme
- **2 Model**: Warehouse (SoftDeletes), StockMovement
- **2 Controller**: WarehouseController, StockMovementController (CRUD + stok yÃ¶netimi)
- **6 Vue SayfasÄ±**: Modern cyan-emerald gradient tema
- **Sidebar Entegrasyonu**: "SatÄ±nalma & Stok" menÃ¼ grubu
- **StockManagementSeeder**: GerÃ§ekÃ§i demo veriler (her proje 2-3 depo + stok hareketleri)
- **Routes**: `/warehouses/*` ve `/stock-movements/*` rotalarÄ±

#### 28 Ekim 2025 - YapÄ± Denetim Sistemi ModÃ¼lÃ¼ TamamlandÄ± ğŸ‰
- **Denetim KuruluÅŸlarÄ± YÃ¶netimi**: Lisans numarasÄ±, iletiÅŸim bilgileri, aktif/pasif durum
- **Denetim KayÄ±tlarÄ± Sistemi**: Periyodik, Ã¶zel ve final denetim tÃ¼rleri
- **Otomatik NumaralandÄ±rma**: Duplicate-safe denetim numarasÄ± (DEN-PRJ-YYYY-001)
- **Uygunsuzluk YÃ¶netimi**:
  - 3 Seviye: Minor (kÃ¼Ã§Ã¼k), Major (bÃ¼yÃ¼k), Critical (kritik)
  - FotoÄŸraf yÃ¼kleme ve son tarih takibi
  - Kritik uygunsuzluk sayacÄ±
- **DÃ¼zeltici Faaliyetler**:
  - Sorumlu kiÅŸi ve son tarih atamasÄ±
  - Durum takibi (Pending, In Progress, Completed)
  - Tamamlanma tarihi kaydÄ±
- **Rapor YÃ¶netimi**:
  - PDF rapor yÃ¼kleme (10MB limit)
  - SÄ±nÄ±rsÄ±z ek dosya desteÄŸi
  - Dosya meta bilgileri (isim, tip, boyut, tarih)
- **Dashboard**:
  - Toplam/planlanan/bekleyen denetim sayÄ±larÄ±
  - Kritik uygunsuzluk sayacÄ±
  - YaklaÅŸan denetimler (7 gÃ¼n iÃ§inde)
  - GecikmiÅŸ denetim uyarÄ±larÄ±
  - Denetim tÃ¼rÃ¼ daÄŸÄ±lÄ±mÄ±
- **Ruhsat YÃ¶netimi**:
  - YapÄ± RuhsatÄ± (Building), Ä°skan Ä°zni (Occupancy), Kullanma Ä°zni (Usage)
  - Otomatik ruhsat numaralarÄ± (YR/Ä°Ä°/YKÄ°-PRJ-YYYY-001)
  - Ä°hraÃ§ makamÄ± ve imar durumu bilgileri
  - BaÅŸvuru, onay, geÃ§erlilik tarihleri
- **8 Vue SayfasÄ±**: Full-width modern tasarÄ±m (purple gradient)
- **Seeders**: 5 denetim kuruluÅŸu + otomatik periyodik denetimler + ruhsat kayÄ±tlarÄ±
- **Routes**: `/inspections/*` ve `/inspection-companies/*` altÄ±nda organize edildi
- **Sidebar Entegrasyonu**: "YapÄ± Denetim" menÃ¼ grubu eklendi

#### 27 Ekim 2025 - SatÄ±ÅŸ ve Tapu YÃ¶netimi ModÃ¼lÃ¼ TamamlandÄ± ğŸ‰
- **SatÄ±ÅŸ Durumu GÃ¶rselleÅŸtirme Sistemi**: Proje bazlÄ± interaktif satÄ±ÅŸ dashboard'u
- **Renk Kodlu Birim Grid**: Blok/Kat/Birim hiyerarÅŸik gÃ¶rÃ¼nÃ¼mÃ¼
- **4 Renk Durumu**: MÃ¼sait (yeÅŸil), SatÄ±ldÄ± (kÄ±rmÄ±zÄ±), Rezerve (sarÄ±), GecikmiÅŸ (turuncu)
- **Ä°nteraktif Kartlar**: Hover tooltips ve detay modal'larÄ±
- **SatÄ±ÅŸ Ä°statistikleri**: Toplam, satÄ±lan, rezerve, mÃ¼sait birim sayÄ±larÄ±
- **Progress Bar'lar**: Kat bazlÄ± satÄ±ÅŸ tamamlanma oranlarÄ±
- **Basit Tapu Takibi**:
  - Modal-based tapu durumu gÃ¼ncelleme formu
  - Tapu belgesi yÃ¼kleme (PDF, JPG, PNG - 10MB)
  - Tapu bilgileri (Tip, numara, devir tarihi, notlar)
  - UnitSale Show sayfasÄ±nda interaktif tapu bÃ¶lÃ¼mÃ¼
- **3 Vue SayfasÄ±**: SalesStatus Index, Show + UnitSale Show gÃ¼ncelleme
- **SalesStatusController**: 4 endpoint (index, show, structure details, floor units)
- **Routes**: `/sales/sales-status` altÄ±nda organize edildi
- **Sidebar Entegrasyonu**: "SatÄ±ÅŸ Durumu" menÃ¼ Ã¶ÄŸesi eklendi
- **Bug Fix**: Blok seÃ§imi sorunu dÃ¼zeltildi (floor_order â†’ floor_number) âœ…

#### 26 Ekim 2025 - SÃ¶zleÅŸme YÃ¶netimi ModÃ¼lÃ¼ TamamlandÄ± ğŸ‰
- **Merkezi SÃ¶zleÅŸme Sistemi**: TaÅŸeron ve tedarikÃ§i sÃ¶zleÅŸmelerinin tek noktadan yÃ¶netimi
- **3 Migration**: contracts table, progress_payments contract_id, purchasing_requests contract_id
- **Otomatik NumaralandÄ±rma**: Duplicate-safe sÃ¶zleÅŸme numarasÄ± (PRJ-CODE-TS-YYYY-0001)
- **Teminat YÃ¶netimi**: Banka Mektubu, Nakit, Ã‡ek, TeminatsÄ±z seÃ§enekleri
- **Lifecycle Management**: Draft â†’ Active â†’ Completed/Terminated/Expired durum akÄ±ÅŸÄ±
- **Proje Entegrasyonu**:
  - Project Show sayfasÄ±na SÃ¶zleÅŸmeler tabÄ± eklendi
  - Proje seÃ§imi ile otomatik form doldurma
- **HakediÅŸ Entegrasyonu**: HakediÅŸ kayÄ±tlarÄ±na contract_id baÄŸlantÄ±sÄ±
- **Dashboard**: Ä°statistikler, sÃ¼resi dolacak sÃ¶zleÅŸmeler (30 gÃ¼n), son sÃ¶zleÅŸmeler
- **Filtreleme Sistemi**: Proje, taÅŸeron, durum, tarih bazlÄ± arama
- **ContractService**: Business logic, otomatik numaralandÄ±rma, lifecycle methods
- **5 Vue SayfasÄ±**: Dashboard, Index, Show, Create, Edit (full-width tasarÄ±m)
- **Form Validation**: Comprehensive hata gÃ¶sterimi (genel liste + input bazlÄ±)
- **15 Seeder KayÄ±t**: Test verisi ile sistem hazÄ±r

#### 26 Ekim 2025 - KeÅŸif/Metraj ve HakediÅŸ Entegrasyonu ğŸ¯
- **Metraj-HakediÅŸ Ä°liÅŸkisi**: Ä°ÅŸ akÄ±ÅŸÄ± dÃ¼zeltildi (Metraj â†’ HakediÅŸ)
- **AkÄ±llÄ± HakediÅŸ Formu**: Proje/yapÄ±/kat/birim seÃ§ince otomatik metraj bulma
- **Otomatik Limit KontrolÃ¼**: Daha Ã¶nce hakediÅŸ yapÄ±lan miktarÄ± Ã§Ä±karÄ±p kullanÄ±labilir kalan gÃ¶sterir
- **Ä°liÅŸkili KayÄ±t GÃ¶rÃ¼nÃ¼mÃ¼**:
  - Proje Show'da KeÅŸif/Metraj tabÄ± eklendi
  - Metraj Show'da Ä°liÅŸkili HakediÅŸ widget'Ä± eklendi
- **Backend Ä°yileÅŸtirmeler**:
  - QuantityController'a search() API endpoint eklendi
  - Project-Quantity relationship eklendi
  - Null-safe accessor metodlarÄ± gÃ¼ncellendi
- **Frontend Ä°yileÅŸtirmeler**:
  - HakediÅŸ form'unda metraj bilgi widget'Ä± (yeÅŸil: bulundu, sarÄ±: bulunamadÄ±)
  - Quantity Stats computed properties
  - Payment status labels ve variant helpers

#### 26 Ekim 2025 - Finansal YÃ¶netim ModÃ¼lÃ¼ TamamlandÄ± ğŸ‰
- **Event-Driven Finansal Sistem**: Puantaj, HakediÅŸ, SatÄ±nalma onaylarÄ±ndan otomatik finansal kayÄ±t
- **Gelir/Gider Kategori YÃ¶netimi**: HiyerarÅŸik yapÄ± ile esnek kategorizasyon
- **Kar/Zarar RaporlarÄ±**: Proje ve kategori bazlÄ± detaylÄ± analiz
- **Financial Dashboard**: Gelir, gider, kar marjÄ± Ã¶zet kartlarÄ±
- **Ã–deme Durumu Takibi**: OnaylÄ± puantajlar otomatik "Ã¶dendi" olarak iÅŸaretlenir
- **BÃ¼tÃ§e vs GerÃ§ekleÅŸen**: Otomatik varyans hesaplamasÄ±
- 6 Vue sayfasÄ± + Full-width profesyonel tasarÄ±m

#### 24 Ekim 2025 - Ä°zin ve Tatil Sistemi
- **Resmi Tatil Sistemi**: Arefe (yarÄ±m gÃ¼n) desteÄŸi ile eklendi
- **Proje BazlÄ± Hafta Tatili**: Her proje iÃ§in Ã¶zelleÅŸtirilebilir hafta sonu gÃ¼nleri
- **AkÄ±llÄ± Ä°zin Hesaplama**: Proje kurallarÄ± + resmi tatiller entegre edildi
- TÃ¼m puantaj versiyonlarÄ± (`timesheets_v2`, `timesheets_v3`) tek bir `timesheets` tablosunda birleÅŸtirildi
- Model isimleri standartlaÅŸtÄ±rÄ±ldÄ± (`TimesheetV2` â†’ `Timesheet`)
- GeliÅŸmiÅŸ onay sistemi ve haftalÄ±k hesaplama Ã¶zenlikleri eklendi
- Ä°zin-puantaj entegrasyonu tamamlandÄ±

## DokÃ¼mantasyon

DetaylÄ± proje planÄ± ve durum takibi iÃ§in:
- **[docs/PROJE_PLANI.md](docs/PROJE_PLANI.md)** - KapsamlÄ± proje planÄ±, tamamlanan gÃ¶revler, yapÄ±lacaklar listesi

## Lisans

Bu proje MIT lisansÄ± altÄ±nda lisanslanmÄ±ÅŸtÄ±r.
